<MainWindow>:
    name: "main"
    FloatLayout:
        Image:
            source: 'pics/main.jpg'
            allow_stretch: True
            keep_ratio:False

        Label:
            text: "Welcome to the MiniChess!"
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.8}
            font_size: '40sp'

        Button:
            text: 'Start Game'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.5}
            on_release: root.manager.current = 'gamemode'

        Button:
            text: 'Exit Game'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.4}
            on_release: root.exit_game()


<GameModeWindow>
    name: "gamemode"
    FloatLayout:
        Image:
            source: 'pics/main.jpg'
            allow_stretch: True
            keep_ratio:False

        Label:
            text: "Choose game mode!"
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.9}
            font_size: '40sp'

        Button:
            text: 'Normal'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.7}
            on_release: root.manager.current = 'game'
            on_release: root.start_game()

        Button:
            text: '10 min blitz'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.6}
            on_release: root.manager.current = 'game'
            on_release: root.start_game(game_time=10)

        Button:
            text: '5 min blitz'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.5}
            on_release: root.manager.current = 'game'
            on_release: root.start_game(game_time=5)

        Button:
            text: '2 min blitz'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.4}
            on_release: root.manager.current = 'game'
            on_release: root.start_game(game_time=2)

        Button:
            text: 'Menu'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.425, "top":0.2}
            on_release: root.manager.current = 'main'


<GameWindow>:
    name: "game"
    canvas.before:
        Color:
            rgba: 255,102,102,0.2
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:

        Button:
            text: 'Menu'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.825, "top":0.575}
            on_release: root.manager.current = 'main'
            on_release: root.reset()

        Button:
            text: 'Exit Game'
            background_color: (0.1, 0.5, 0.6, 1)
            size_hint: (0.15, 0.05)
            pos_hint: {"x":0.825, "top":0.475}
            on_release: root.exit_game()

        Label:
            text: root.message_white
            pos_hint: {"x":0.825, "top":0.19}
            size_hint: (0.15, 0.05)
            font_size: '20sp'

        Label:
            text: root.message_black
            pos_hint: {"x":0.825, "top":0.86}
            size_hint: (0.15, 0.05)
            font_size: '20sp'

        Label:
            text: root.message_timer_black
            pos_hint: {"x":0.825, "top":0.95}
            size_hint: (0.15, 0.05)
            font_size: '20sp'

        Label:
            text: root.message_timer_white
            pos_hint: {"x":0.825, "top":0.1}
            size_hint: (0.15, 0.05)
            font_size: '20sp'

        FloatLayout:
            size_hint: (0.8, 1)

            Image:
                source: 'pics/board.jpg'
                allow_stretch: True
                keep_ratio:False

            ChessGrid:
                id: chessGrid












